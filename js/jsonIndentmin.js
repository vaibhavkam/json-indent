$(document).ready(function(){$('[data-toggle="tooltip"]').tooltip();var t=ace.edit("input"),e=ace.edit("output");t.setOption("showPrintMargin",!1),e.setOption("showPrintMargin",!1),t.focus(),e.setReadOnly(!0);var n=2;function o(n){$("#clipboardButton").removeAttr("disabled"),$("#saveButton").removeAttr("disabled"),$("#printButton").removeAttr("disabled"),$("#newWindowButton").removeAttr("disabled"),e.renderer.setShowGutter(!0),t.getSession().clearAnnotations();var o=t.getValue();if($.trim(o)||e.setValue(""),o)try{var a=jsonlint.parse(o),i=JSON.stringify(a,void 0,n);e.setValue(i)}catch(n){$("#clipboardButton").attr("disabled","disabled"),$("#saveButton").attr("disabled","disabled"),$("#printButton").attr("disabled","disabled"),$("#newWindowButton").attr("disabled","disabled"),e.renderer.setShowGutter(!1);var r=n.toString().match(/\d+/g);null!=r&&1==r.length&&t.getSession().setAnnotations([{row:r[0]-1,column:0,text:"Error",type:"error"}]),e.setValue(n.toString())}}t.session.on("change",function(t){o(n)}),$(".dropdown-menu a").on("click",function(){$(".dropdown-toggle").html($(this).html()),$(".dropdown-toggle").val($(this).val()),$(".dropdown-toggle").text($(this).text()),o(n="2 Space Tab"==$(this).text()?2:"3 Space Tab"==$(this).text()?3:"4 Space Tab"==$(this).text()?4:2)}),$("#submitButton").click(function(){if($("#feedbackForm")[0].checkValidity()){jQuery.post("https://service.json-indent.com/feedback/add",{name:$("#inputName").val(),email:$("#inputEmail").val(),message:$("#feedback").val()});$("#feedbackForm").find(".messages").html('<div class="alert alert-success alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>Your message was sent, Thank you! We will get back to you soon.</div>'),$("#feedbackForm")[0].reset()}}),$("#clearButton").click(function(){t.setValue(""),e.setValue("")}),$("#clipboardButton").click(function(){e.selectAll(),e.focus(),document.execCommand("copy")}),$("#printButton").click(function(){$("#printIframe").length>0&&$("#printIframe").remove(),$('<iframe id="printIframe" hidden/>').appendTo("body").contents().find("body").append("<html><body><pre>"+e.getValue()+"</pre></body></html>"),$("#printIframe").get(0).contentWindow.print()}),$("#saveButton").click(function(){var t=new File([e.getValue()],"download.json",{type:"text/plain;charset=utf-8"});saveAs(t)}),$("#newWindowButton").click(function(){var t=window.open();t.document.open(),t.document.write("<html><body><pre>"+e.getValue()+"</pre></body></html>"),t.document.close()})});